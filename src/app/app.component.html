<section class="mat-typography">
  <!-- Top, welcome container and information -->
  <div class="container" id="top-container">
    <i class="fa fa-github fa-5x" aria-hidden="true"></i>
    <h1 id="appTitle">{{ title }}</h1>
    <h2> Team H </h2>
  </div>
  <!-- TABS & Search -->
  <div class="container" id="search-container">
    <div class="container" id="footer-container">
      <button type="button" id="homeInfoButton" class="btn btn-outline-secondary" placement="top" ngbPopover="This web app produces a GitHub status report. It uses issues opened and completed in the last week to output a well formated status report." popoverTitle="What is this app?">
        <i class="fa fa-info-circle fa-3x" id="homeInfo" aria-hidden="true"></i>
      </button>
    </div>
    <!-- Error message -->
    <div *ngIf="errorMessage">
      <ngb-alert [dismissible]="false">
        <strong>Error!</strong> {{errorMessage}}
      </ngb-alert>
    </div>
    <!-- tabs -->
    <ngb-tabset justify="justified">
      <ngb-tab title="Search by user or organization name">
        <ng-template ngbTabContent>
          <div>
            <br/>
            <mat-form-field>
              <input matInput [(ngModel)]="ghId" placeholder="Enter a GitHub org or user id" value="toddwseattle">
            </mat-form-field>
            <button mat-raised-button color="primary" (click)="getRepoList(ghId)" class="">Add to List</button>
            <button type="button" class="btn btn-outline-secondary" placement="bottom" id="helpButton" ngbPopover="Simply enter a GitHub user name or organization name to search" popoverTitle="User or Organization Name">
              Help
            </button>
          </div>
          <hr>
          <br/>
          <aside id="buttons">
            <div id="1">
              <h1>Repositories:</h1>
              <mat-list id="horizontal-list">
                <mat-list-item *ngFor="let r1 of repolist">
                  <br>
                  <button id="repolist" (click)="getRepo(r1.full_name, true)">{{r1.name}} </button>
                </mat-list-item>
              </mat-list>
            </div>
          </aside>
          <section id="issues-data">
            <mat-form-field>
              <input matInput placeholder="Update milestone" value="Milestone: ">
            </mat-form-field>
            <br>
            <h3 class="repo_description"> Name:</h3>
            <h3 class="repo_name">{{repoName()}}</h3>
            <ngb-accordion #acc="ngbAccordion">
              <ngb-panel id="toggle-1 storyAccordians" title="Completed stories">
                <ng-template ngbPanelContent>
                  <div class="issue_list">
                    <mat-list-item *ngFor="let issue of issues">
                      <div class="issue_title" *ngIf="issue.state == 'open'"><strong>{{issue.title}}</strong>
                        <p class="ittile"> {{issue.body}}
                          <br> </p>
                      </div>
                    </mat-list-item>
                  </div>
                </ng-template>
              </ngb-panel>
              <ngb-panel id="toggle-2 storyAccordians" title="Stories for next milestone">
                <ng-template ngbPanelContent>
                  <div class="issue_list">
                    <mat-list-item *ngFor="let issue of issues">
                      <div class="issue_title" *ngIf="issue.state == 'closed'"><strong>{{issue.title}}</strong>
                        <p class="ibody">
                          {{issue.body}}
                          <br>
                        </p>
                      </div>
                    </mat-list-item>
                  </div>
                </ng-template>
              </ngb-panel>
            </ngb-accordion>
          </section>
        </ng-template>
      </ngb-tab>
      <ngb-tab title="Search by repository link">
        <ng-template ngbTabContent>
          <div>
            <br/>
            <mat-form-field>
              <input matInput [(ngModel)]="ghId" placeholder="Enter a repository link" value="toddwseattle">
            </mat-form-field>
            <button mat-raised-button color="primary" (click)="getRepo(ghId)" class="">Add to List</button>
            <button type="button" id="helpButton" class="btn btn-outline-secondary" placement="bottom" ngbPopover="Simply enter a GitHub repository link to search" popoverTitle="Repository Link">
              Help
            </button>
          </div>
          <hr>
          <br/>
          <section id="issues-data-centered">
            <mat-form-field>
              <input matInput placeholder="Update milestone" value="Milestone: ">
            </mat-form-field>
            <h3 class="repo_description"> Name:</h3>
            <h3 class="repo_name">{{repoName()}}</h3>
            <ngb-accordion #acc="ngbAccordion">
              <ngb-panel id="toggle-1 storyAccordians" title="Completed stories">
                <ng-template ngbPanelContent>
                  <div class="issue_list">
                    <mat-list-item *ngFor="let issue of issues">
                      <div class="issue_title" *ngIf="issue.state == 'open'"><strong>{{issue.title}}</strong>
                        <p class="ittile"> {{issue.body}}
                          <br> </p>
                      </div>
                    </mat-list-item>
                  </div>
                </ng-template>
              </ngb-panel>
              <ngb-panel id="toggle-2 storyAccordians" title="Stories for next milestone">
                <ng-template ngbPanelContent>
                  <div class="issue_list">
                    <mat-list-item *ngFor="let issue of issues">
                      <div class="issue_title" *ngIf="issue.state == 'closed'"><strong>{{issue.title}}</strong>
                        <p class="ibody">
                          {{issue.body}}
                          <br>
                        </p>
                      </div>
                    </mat-list-item>
                  </div>
                </ng-template>
              </ngb-panel>
            </ngb-accordion>
            <!--   <p>  Current milestone: {{ printMilestones() }}</p>
         <p>  Next milestone: {{ printMilestones() }}</p> -->
          </section>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>
</section>
